{"version":3,"sources":["./src/app/homepage/homepage-routing.module.ts","./src/app/homepage/homepage.component.html","./src/app/homepage/homepage.component.ts","./src/app/homepage/homepage.module.ts","./src/app/homepage/todo-card/todo-card.component.html","./src/app/homepage/todo-card/todo-card.component.ts"],"names":[],"mappings":"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","file":"homepage-homepage-module-ngfactory-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HomepageComponent} from './homepage.component';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [{\n  path: '',\n  component: HomepageComponent,\n\n}\n]\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class HomepageRoutingModule { }\n","<div *ngIf=\"isLoggedIn\">\n    <div class=\"container\">\n        <div class=\"wrapper\" *ngFor=\"let item of todoDatas\">\n            <app-todo-card class=\"todo-card\" [id]=\"item._id\" [title]=\"item.title\" [desc]=\"item.desc\"></app-todo-card>\n        </div>\n    </div>\n    <button class=\"add-btn\" (click)=\"openDialog()\">Add new reminder</button>\n</div>\n<div *ngIf=\"!isLoggedIn\">\n    <div class=\"text\">\n        <h2 class=\"animate__animated animate__zoomInDown welcome-text\">Welcome to Moview!</h2>\n        <h3 class=\"animate__animated animate__zoomInDown todo-text\">Please login or sign up to continue!\n        </h3>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport {MoviesService} from '../shared/movie/movies.service';\nimport {Router} from '@angular/router';\nimport {Movie} from '../models/movie';\nimport {MovieDetailsService} from '../shared/movie/movie-details.service';\nimport { AuthService } from 'app/shared/auth_and_register/auth.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AddNewTodoModalComponent } from './add-new-todo-modal/add-new-todo-modal.component';\nimport { UserService } from 'app/shared/auth_and_register/user.service';\nimport { first } from 'rxjs/operators';\nimport { User } from 'app/models/user';\nimport { TodoService } from 'app/shared/todo/todo.service';\n\n@Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.css']\n})\nexport class HomepageComponent implements OnInit {\n\n  isLoggedIn: boolean;\n  todoIds;\n  todoDatas = [];\n  user;\n  \n  constructor(\n    private authService: AuthService,\n    private todoService: TodoService,\n    private userService: UserService,\n    private dialog: MatDialog\n    ) {}\n  ngOnInit(): void {\n   this.refresh();\n   if(this.authService.currentUserValue !== undefined) {\n     this.isLoggedIn = true;\n   }else {\n     this.isLoggedIn = false;\n   }\n\n  }\n\n  refresh() {\n    this.userService.getById(this.authService.currentUserValue.id).pipe(first())\n    .subscribe(data => {\n      this.user = data;\n      this.todoIds = this.user.toDoList;\n      console.log('todo', this.todoIds);\n      this.fillData();\n  });\n\n}\n\nfillData() {\n  for(let i = 0; i < this.todoIds.length; i++){\n    const id = this.todoIds[i];\n    this.todoService.getById(id).pipe(first()).subscribe(\n      data => {\n        this.todoDatas.push(data);\n      console.log(this.todoDatas);\n      }\n    )\n  }\n}\n  openDialog() {\n    const dialogRef = this.dialog.open(AddNewTodoModalComponent, {\n      width: '500px',\n      disableClose: true\n    });\n\n    dialogRef.afterClosed().subscribe(res => {\n      console.log(\"itt meghívódik az after subscribe\", res);\n      if(res.title !== '' || res.desc !== '') {\n        this.todoDatas.push(res);\n\n      }\n    }\n    );\n  }\n\n  listChanged(event) {\n    this.refresh();\n    console.log(\"event\", event);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from 'app/shared/shared.module';\nimport { HomepageComponent } from './homepage.component';\nimport { HomepageRoutingModule } from './homepage-routing.module';\n\n\n@NgModule({\n  declarations: [HomepageComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomepageRoutingModule\n  ]\n})\nexport class HomepageModule { }\n","<div class=\"square\">\n    <div class=\"title\">\n        <h3>{{title}}</h3>\n    </div>\n    <div class=\"desc\">\n        <span>{{desc}}</span>\n    </div>\n    <div class=\"close\">\n        <button class=\"close-btn\" (click)=\"delete(this)\"><i class=\"fa fa-close\"></i></button>\n    </div>\n</div>","import { Component, ComponentFactoryResolver, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { AuthService } from 'app/shared/auth_and_register/auth.service';\nimport { UserService } from 'app/shared/auth_and_register/user.service';\nimport { TodoService } from 'app/shared/todo/todo.service';\nimport { first } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-todo-card',\n  templateUrl: './todo-card.component.html',\n  styleUrls: ['./todo-card.component.css']\n})\nexport class TodoCardComponent implements OnInit {\n\n  @Input() title: string;\n  @Input() desc: string;\n  @Input() id: string;\n  // @Output () changed = new EventEmitter<any>();\n\n  \n  user;\n  list;\n  constructor(\n    private authService: AuthService,\n    private userService: UserService,\n    private toDoService: TodoService\n  ) { }\n\n  ngOnInit(): void {\n    this.userService.getById(this.authService.currentUserValue.id).pipe(first())\n    .subscribe(data => {\n      this.user = data;\n      console.log(this.user);\n    })\n  }\n\n  refresh() {\n    this.userService.getById(this.authService.currentUserValue.id).pipe(first())\n    .subscribe(data => {\n      this.user = data;\n      console.log('this user', this.user);\n  });\n}\n\n  delete(event){\n      for(let i = 0; i < this.user.toDoList.length; i++) {\n        console.log(event);\n        console.log(this.user.toDoList);\n        console.log(this.user.toDoList[i] );\n        console.log(event.id);\n        if(this.user.toDoList[i] == event.id) {\n        \n          this.toDoService.delete(this.user.toDoList[i]).pipe(first()).subscribe(res => {\n            console.log('eredmeny', this.user.toDoList, res);\n            this.user.toDoList.splice(i, 1);\n            console.log(this.user.toDoList);\n            this.userService.updateToDoList(this.authService.currentUserValue.id, this.user.toDoList).subscribe(\n              res => console.log(res)\n            );\n          })\n        }\n      }\n      this.reload();\n  }\n\n  reload() {\n    window.location.reload();\n\n  }\n}\n"],"sourceRoot":"webpack:///"}