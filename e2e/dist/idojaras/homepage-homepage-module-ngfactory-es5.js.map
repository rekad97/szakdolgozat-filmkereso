{"version":3,"sources":["webpack:///src/app/homepage/homepage-routing.module.ts","webpack:///src/app/homepage/homepage.component.html","webpack:///src/app/homepage/homepage.component.ts","webpack:///src/app/homepage/homepage.module.ts","webpack:///src/app/homepage/todo-card/todo-card.component.html","webpack:///src/app/homepage/todo-card/todo-card.component.ts"],"names":["routes","path","component","HomepageRoutingModule","HomepageComponent","authService","todoService","userService","dialog","todoDatas","refresh","currentUserValue","undefined","isLoggedIn","getById","id","pipe","subscribe","data","user","todoIds","toDoList","console","log","fillData","i","length","push","dialogRef","open","width","disableClose","afterClosed","res","title","desc","event","HomepageModule","TodoCardComponent","toDoService","splice","updateToDoList","reload","window","location"],"mappings":"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","file":"homepage-homepage-module-ngfactory-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HomepageComponent} from './homepage.component';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [{\n  path: '',\n  component: HomepageComponent,\n\n}\n]\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class HomepageRoutingModule { }\n","<div *ngIf=\"isLoggedIn\">\n    <div class=\"container\">\n        <div class=\"wrapper\" *ngFor=\"let item of todoDatas\">\n            <app-todo-card class=\"todo-card\" [id]=\"item._id\" [title]=\"item.title\" [desc]=\"item.desc\"></app-todo-card>\n        </div>\n    </div>\n    <button class=\"add-btn\" (click)=\"openDialog()\">Add new reminder</button>\n</div>\n<div *ngIf=\"!isLoggedIn\">\n    <div class=\"text\">\n        <h2 class=\"animate__animated animate__zoomInDown welcome-text\">Welcome to Moview!</h2>\n        <h3 class=\"animate__animated animate__zoomInDown todo-text\">Please login or sign up to continue!\n        </h3>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport {MoviesService} from '../shared/movie/movies.service';\nimport {Router} from '@angular/router';\nimport {Movie} from '../models/movie';\nimport {MovieDetailsService} from '../shared/movie/movie-details.service';\nimport { AuthService } from 'app/shared/auth_and_register/auth.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AddNewTodoModalComponent } from './add-new-todo-modal/add-new-todo-modal.component';\nimport { UserService } from 'app/shared/auth_and_register/user.service';\nimport { first } from 'rxjs/operators';\nimport { User } from 'app/models/user';\nimport { TodoService } from 'app/shared/todo/todo.service';\n\n@Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.css']\n})\nexport class HomepageComponent implements OnInit {\n\n  isLoggedIn: boolean;\n  todoIds;\n  todoDatas = [];\n  user;\n  \n  constructor(\n    private authService: AuthService,\n    private todoService: TodoService,\n    private userService: UserService,\n    private dialog: MatDialog\n    ) {}\n  ngOnInit(): void {\n   this.refresh();\n   if(this.authService.currentUserValue !== undefined) {\n     this.isLoggedIn = true;\n   }else {\n     this.isLoggedIn = false;\n   }\n\n  }\n\n  refresh() {\n    this.userService.getById(this.authService.currentUserValue.id).pipe(first())\n    .subscribe(data => {\n      this.user = data;\n      this.todoIds = this.user.toDoList;\n      console.log('todo', this.todoIds);\n      this.fillData();\n  });\n\n}\n\nfillData() {\n  for(let i = 0; i < this.todoIds.length; i++){\n    const id = this.todoIds[i];\n    this.todoService.getById(id).pipe(first()).subscribe(\n      data => {\n        this.todoDatas.push(data);\n      console.log(this.todoDatas);\n      }\n    )\n  }\n}\n  openDialog() {\n    const dialogRef = this.dialog.open(AddNewTodoModalComponent, {\n      width: '500px',\n      disableClose: true\n    });\n\n    dialogRef.afterClosed().subscribe(res => {\n      console.log(\"itt meghívódik az after subscribe\", res);\n      if(res.title !== '' || res.desc !== '') {\n        this.todoDatas.push(res);\n\n      }\n    }\n    );\n  }\n\n  listChanged(event) {\n    this.refresh();\n    console.log(\"event\", event);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from 'app/shared/shared.module';\nimport { HomepageComponent } from './homepage.component';\nimport { HomepageRoutingModule } from './homepage-routing.module';\n\n\n@NgModule({\n  declarations: [HomepageComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomepageRoutingModule\n  ]\n})\nexport class HomepageModule { }\n","<div class=\"square\">\n    <div class=\"title\">\n        <h3>{{title}}</h3>\n    </div>\n    <div class=\"desc\">\n        <span>{{desc}}</span>\n    </div>\n    <div class=\"close\">\n        <button class=\"close-btn\" (click)=\"delete(this)\"><i class=\"fa fa-close\"></i></button>\n    </div>\n</div>","import { Component, ComponentFactoryResolver, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { AuthService } from 'app/shared/auth_and_register/auth.service';\nimport { UserService } from 'app/shared/auth_and_register/user.service';\nimport { TodoService } from 'app/shared/todo/todo.service';\nimport { first } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-todo-card',\n  templateUrl: './todo-card.component.html',\n  styleUrls: ['./todo-card.component.css']\n})\nexport class TodoCardComponent implements OnInit {\n\n  @Input() title: string;\n  @Input() desc: string;\n  @Input() id: string;\n  // @Output () changed = new EventEmitter<any>();\n\n  \n  user;\n  list;\n  constructor(\n    private authService: AuthService,\n    private userService: UserService,\n    private toDoService: TodoService\n  ) { }\n\n  ngOnInit(): void {\n    this.userService.getById(this.authService.currentUserValue.id).pipe(first())\n    .subscribe(data => {\n      this.user = data;\n      console.log(this.user);\n    })\n  }\n\n  refresh() {\n    this.userService.getById(this.authService.currentUserValue.id).pipe(first())\n    .subscribe(data => {\n      this.user = data;\n      console.log('this user', this.user);\n  });\n}\n\n  delete(event){\n      for(let i = 0; i < this.user.toDoList.length; i++) {\n        console.log(event);\n        console.log(this.user.toDoList);\n        console.log(this.user.toDoList[i] );\n        console.log(event.id);\n        if(this.user.toDoList[i] == event.id) {\n        \n          this.toDoService.delete(this.user.toDoList[i]).pipe(first()).subscribe(res => {\n            console.log('eredmeny', this.user.toDoList, res);\n            this.user.toDoList.splice(i, 1);\n            console.log(this.user.toDoList);\n            this.userService.updateToDoList(this.authService.currentUserValue.id, this.user.toDoList).subscribe(\n              res => console.log(res)\n            );\n          })\n        }\n      }\n      this.reload();\n  }\n\n  reload() {\n    window.location.reload();\n\n  }\n}\n"]}